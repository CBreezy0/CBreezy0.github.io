<!DOCTYPE html>
<html>
<head>
    <title>Transy Baseball Stats 2025</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
    </style>
</head>
<body>

    <h1>Transy Baseball Stats 2025</h1>

    <a href="your_csv_file.csv" download="baseball_stats.csv">Download CSV Stats</a>
    <h2>Imported Stats</h2>
    <div id="statsTableContainer">
        </div>

    <script>
        async function fetchAndDisplayCSV(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const csvText = await response.text();
                const tableData = parseCSV(csvText);
                createTable(tableData);
            } catch (error) {
                console.error("Error fetching or processing CSV:", error);
                document.getElementById('statsTableContainer').innerHTML = "<p>Error loading data.</p>";
            }
        }

        function parseCSV(csvText) {
            const lines = csvText.split(/\r\n|\n/); // Split into lines, handling different line endings
            const data = [];
            for (const line of lines) {
                if (line.trim() !== "") { // Skip empty lines
                   const values = line.split(',');
                    data.push(values);
                }
            }
            return data;
        }
       function createTable(data) {
    const tableContainer = document.getElementById('statsTableContainer');
    tableContainer.innerHTML = ''; // Clear any previous content

    if (data.length === 0) {
        tableContainer.innerHTML = '<p>No data found.</p>';
        return;
    }

    const table = document.createElement('table');
    const thead = document.createElement('thead');
    const tbody = document.createElement('tbody');

    // Create table header (assuming first row is the header)
    const headerRow = document.createElement('tr');
    data[0].forEach(headerText => {
        const th = document.createElement('th');
        th.textContent = headerText.trim(); // Trim whitespace
        headerRow.appendChild(th);
    });
    thead.appendChild(headerRow);
    table.appendChild(thead);

    // Create table body (data rows)
    for (let i = 1; i < data.length; i++) {
        const dataRow = document.createElement('tr');
        data[i].forEach(cellText => {
            const td = document.createElement('td');
            td.textContent = cellText.trim(); // Trim whitespace
            dataRow.appendChild(td);
        });
        tbody.appendChild(dataRow);
    }
    table.appendChild(tbody);

    tableContainer.appendChild(table);
}

// Call the function to fetch and display the data
// Replace with the URL of your CSV file.  IMPORTANT: This URL must be accessible
// from where the webpage is loaded.  If it's on the same server, a relative path
// is fine. If it's elsewhere, you might need to deal with CORS (Cross-Origin Resource Sharing).
fetchAndDisplayCSV("your_csv_file.csv");

    </script>
    </script>

</body>
</html>